<div class="container-element">
  <div
    class="element"
    [ngClass]="{'editable shadow-sm': editableElement === element}"
    (click)="edit(element)"
    (keyup.delete)="remove(element)"
    *ngFor="let element of elements; let index = index">
    <div class="row config justify-content-end align-items-center jb-bg-primary">
      <div class="col-12 col-md-auto pb-1 pb-md-0">
        <input type="text" class="form-control" id="{{'config-element-title-'+index}}" placeholder="Element Title" [(ngModel)]="element.label">
      </div>
      <div class="col-12 col-md-auto pb-1 pb-md-0">
        <p-dropdown [options]="types" [style]="{minWidth: '200px'}" [(ngModel)]="element.type" placeholder="Select a Country">
          <ng-template pTemplate="selectedItem">
            <div class="row">
              <div class="col-auto"><i [className]="element.type?.icon"></i></div>
              <div class="col-auto">{{element.type?.label}}</div>
            </div>
          </ng-template>
          <ng-template let-type pTemplate="item">
            <div class="row">
              <div class="col-auto"><i [className]="type.icon"></i></div>
              <div class="col-auto">{{type.label}}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
      <div class="col-12 col-md-auto pb-1 pb-md-0 text-end">
        <div class="d-flex align-items-center justify-content-end">
          <label for="{{'element-required-'+index}}" class="me-2">Required</label>
          <p-inputSwitch styleClass="light" inputId="{{'element-required-'+index}}" [(ngModel)]="element.required"></p-inputSwitch>
        </div>
      </div>
      <div class="col-12 col-md-auto pb-1 pb-md-0 text-end">
        <button class="btn" pTooltip="Remove" tooltipPosition="top" (keydown.tab)="goNextOnRemoveButtonTab($event)" (click)="remove(element)"><i class="fa-solid fa-trash-can"></i></button>
      </div>
    </div>
    <div>
      <label class="form-label">{{element.label ? element.label : 'New Element'}}<span class="required-mark" *ngIf="element.required">*</span></label>
      <input type="text" class="form-control" value="{{element.type?.label}}" [disabled]="true" *ngIf="element.type?.elementType === 'TEXT'">
      <textarea class="form-control" value="{{element.type?.label}}" [rows]="3" [disabled]="true" *ngIf="element.type?.elementType === 'TEXTAREA'"></textarea>
    </div>
  </div>
</div>
